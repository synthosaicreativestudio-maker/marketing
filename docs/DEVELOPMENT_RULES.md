# ‚ö†Ô∏è –ü–†–ê–í–ò–õ–ê –†–ê–ó–†–ê–ë–û–¢–ö–ò –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

## üö´ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –õ–û–ö–ê–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö –ë–û–¢–ê –ó–ê–ü–†–ï–©–ï–ù**

### –ó–∞–ø—Ä–µ—â–µ–Ω–æ:
- ‚ùå **–ù–ò–ö–û–ì–î–ê –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å `bot.py` –ª–æ–∫–∞–ª—å–Ω–æ**
- ‚ùå **–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `python bot.py` –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ**
- ‚ùå **–ù–ò–ö–û–ì–î–ê –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ**

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:
Telegram API **–Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç** –¥–≤—É–º –±–æ—Ç–∞–º —Å –æ–¥–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ, —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –±–æ—Ç –ø–æ–ª—É—á–∏—Ç –æ—à–∏–±–∫—É `409 Conflict` –∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

#### ‚úÖ –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞:
1. **–ö–æ–º–º–∏—Ç –∏ –ø—É—à –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ GitHub:**
   ```bash
   git add .
   git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
   git push origin main
   ```

2. **–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
     "cd /home/ubuntu/marketingbot && git pull && sudo systemctl restart marketingbot-bot.service"
   ```

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram:**
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É –≤ Telegram
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
   ```bash
   ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
     "journalctl -u marketingbot-bot.service -f"
   ```

#### ‚úÖ –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–†–∞–∑—Ä–µ—à–µ–Ω–æ:** –ü–∏—Å–∞—Ç—å –∫–æ–¥, –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (`ruff check .`)
- **–†–∞–∑—Ä–µ—à–µ–Ω–æ:** –ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã (`pytest`)
- **–ó–ê–ü–†–ï–©–ï–ù–û:** –ó–∞–ø—É—Å–∫–∞—Ç—å `bot.py`

#### ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
  "ps aux | grep 'python.*bot.py' | grep -v grep"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
  "sudo systemctl status marketingbot-bot.service"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep 'python.*bot.py' | grep -v grep
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ (exit code 1)
```

#### ‚úÖ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
1. **–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥** –ª–æ–∫–∞–ª—å–Ω–æ
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä:** `ruff check .`
3. **–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å:** `git commit -m "..."`
4. **–ó–∞–ø—É—à–∏—Ç—å:** `git push origin main`
5. **–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä** —á–µ—Ä–µ–∑ SSH
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —á–µ—Ä–µ–∑ Telegram

---

## üéØ –ì–∞—Ä–∞–Ω—Ç–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
```bash
# 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–æ—Ç–∞
ps aux | grep 'python.*bot.py' | grep -v grep
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ

# 2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
  "systemctl is-active marketingbot-bot.service"
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: active
```

### Workflow –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
# scripts/deploy_and_test.sh (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–ø–ª–æ—è)
#!/bin/bash
set -e

echo "1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤..."
if ps aux | grep 'python.*bot.py' | grep -v grep > /dev/null; then
    echo "‚ùå –û–®–ò–ë–ö–ê: –û–±–Ω–∞—Ä—É–∂–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å bot.py!"
    echo "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º."
    exit 1
fi

echo "2Ô∏è‚É£ –ü—É—à –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ GitHub..."
git push origin main

echo "3Ô∏è‚É£ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä..."
ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
  "cd /home/ubuntu/marketingbot && git pull && sudo systemctl restart marketingbot-bot.service"

echo "4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞..."
ssh -i ~/.ssh/ssh-key-1767684261599/ssh-key-1767684261599 ubuntu@84.252.137.116 \
  "sudo systemctl status marketingbot-bot.service | head -20"

echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω! –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Telegram."
```

---

## üìù –ü–∞–º—è—Ç–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

> **–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π —Å–µ—Ä–≤–µ—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é —á–µ—Ä–µ–∑ Telegram!**
> 
> –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ = –∫–æ–Ω—Ñ–ª–∏–∫—Ç = —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –±–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!
