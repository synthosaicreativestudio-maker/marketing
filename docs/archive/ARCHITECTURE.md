# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MarketingBot v3.2

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

MarketingBot v3.2 - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∏ —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏. –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –Ω–∞ PythonAnywhere –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏.

## üèóÔ∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- **`bot.py`** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞ —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å–µ—Ä–≤–∏—Å–æ–≤
- **`handlers.py`** ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π (31KB)
- **`auth_service.py`** ‚Äî —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (13KB)
- **`sheets.py`** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets (7KB)
- **`appeals_service.py`** ‚Äî —Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞—â–µ–Ω–∏–π (24KB)
- **`openai_service.py`** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI (3KB)
- **`response_monitor.py`** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤ (8KB)
- **`promotions_api.py`** ‚Äî API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–∫—Ü–∏—è–º–∏ (10KB)
- **`promotions_notifier.py`** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–∫—Ü–∏—è—Ö (7KB)
- **`webhook_handler.py`** ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ webhook –¥–ª—è Flask (7KB)

### WebApp (Mini App):
- **`index.html`** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- **`menu.html`** ‚Äî –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∞–∫—Ü–∏—è–º–∏, —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —É—Å–ª—É–≥–∞–º–∏
- **`app.js`** ‚Äî JavaScript –¥–ª—è WebApp

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **`.env`** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **`requirements.txt`** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** ‚Äî –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## üîÑ –ü–æ—Ç–æ–∫–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:
```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
python3 bot.py

# –° –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
.venv/bin/python bot.py
```

### –ü–æ—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`
2. **–ë–æ—Ç** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `AuthService`
3. **–ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É —Å `index.html` (—Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
4. **–ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É —Å `menu.html` (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç)
5. **WebApp** —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ + —Ç–µ–ª–µ—Ñ–æ–Ω
6. **–ë–æ—Ç** –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Telegram WebApp API
7. **AuthService** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Google Sheets
8. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ** —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∫—ç—à–∞
9. **–û—Ç–≤–µ—Ç** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)

### –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
2. **handlers.py** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
3. **openai_service.py** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –ò–ò
4. **appeals_service.py** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ Google Sheets
5. **response_monitor.py** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
6. **–ë–æ—Ç** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –ü–æ—Ç–æ–∫ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É:
1. **–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —ç—Å–∫–∞–ª–∞—Ü–∏–∏
2. **handlers.py** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä–Ω—ã–µ —Ñ—Ä–∞–∑—ã
3. **appeals_service.py** –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ "–ü–µ—Ä–µ–¥–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É"
4. **response_monitor.py** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
5. **–ë–æ—Ç** —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø–µ—Ä–µ–¥–∞—á–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –∞–∫—Ü–∏—è–º–∏:
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–ê–∫—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è" –≤ WebApp
2. **menu.html** –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Telegram WebApp API
3. **promotions_api.py** –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets
4. **WebApp** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–∫—Ü–∏–∏ –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫
5. **promotions_notifier.py** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —É—Å–ª—É–≥–∞–º–∏:
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã" –≤ WebApp
2. **menu.html** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Å–ª—É–≥ –≤ –≤–∏–¥–µ –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–∞
3. **JavaScript** —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º/—Å–∫—Ä—ã—Ç–∏–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π
4. **WebApp** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
5. **–ù–∞–≤–∏–≥–∞—Ü–∏—è** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ WebApp –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram Bot  ‚îÇ    ‚îÇ   PythonAnywhere‚îÇ    ‚îÇ  Google Sheets  ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ   handlers  ‚îÇ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ   bot.py    ‚îÇ‚îÇ    ‚îÇ  ‚îÇ   Auth      ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ    ‚îÇ  ‚îÇ   Appeals   ‚îÇ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ  ‚îÇ Promotions  ‚îÇ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ  ‚îÇ   WebApp    ‚îÇ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ  services   ‚îÇ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚î§                 ‚îÇ
‚îÇ  ‚îÇ (index.html)‚îÇ‚îÇ    ‚îÇ  ‚îÇ             ‚îÇ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ  ‚îÇ (menu.html) ‚îÇ‚îÇ    ‚îÇ  ‚îÇ             ‚îÇ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ    ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã v3.2:

#### 1. **PythonAnywhere Integration**
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π HTTPS** –¥–ª—è webhook
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ Git
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Flask** –¥–ª—è webhook
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –¥–æ 2000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** —Å Google Sheets
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å–æ–æ–±—â–µ–Ω–∏–π
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**

#### 3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Google Service Account** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Sheets
- **HTTPS** –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Google Sheets - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
| –ö–æ–ª–æ–Ω–∫–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|----------|
| A | –ö–æ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| C | –¢–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω–µ—Ä–∞ | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ |
| D | –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | "–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω" / –ø—É—Å—Ç–æ |
| E | Telegram ID | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram |
| F | –î–∞—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |

### Google Sheets - –û–±—Ä–∞—â–µ–Ω–∏—è:
| –ö–æ–ª–æ–Ω–∫–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|----------|
| A | –ö–æ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ | –°–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π |
| B | –¢–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω–µ—Ä–∞ | –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| C | –§–ò–û –ø–∞—Ä—Ç–Ω–µ—Ä–∞ | –ü–æ–ª–Ω–æ–µ –∏–º—è |
| D | Telegram ID | ID –≤ Telegram |
| E | –¢–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π | –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π |
| F | –°—Ç–∞—Ç—É—Å | "–ù–æ–≤–æ–µ", "–í —Ä–∞–±–æ—Ç–µ", "–†–µ—à–µ–Ω–æ" |
| G | –û—Ç–≤–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ | –û—Ç–≤–µ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ |
| H | –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | Timestamp |

### Google Sheets - –ê–∫—Ü–∏–∏:
| –ö–æ–ª–æ–Ω–∫–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|----------|
| A | –î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞ | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| B | –ù–∞–∑–≤–∞–Ω–∏–µ | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–∫—Ü–∏–∏ |
| C | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| D | –°—Ç–∞—Ç—É—Å | "–ê–∫—Ç–∏–≤–Ω–∞", "–û–∂–∏–¥–∞–µ—Ç", "–ó–∞–∫–æ–Ω—á–µ–Ω–∞" |
| E | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ | –ù–∞—á–∞–ª–æ –¥–µ–π—Å—Ç–≤–∏—è |
| F | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è | –ö–æ–Ω–µ—Ü –¥–µ–π—Å—Ç–≤–∏—è |

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞—â–µ–Ω–∏—è

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
- `appeals_service.py` —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ Google Sheets
- –°—Ç–∞—Ç—É—Å: "–ù–æ–≤–æ–µ"

### 2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ò–ò**
- `openai_service.py` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç
- –û—Ç–≤–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–ª–æ–Ω–∫—É E
- –°—Ç–∞—Ç—É—Å: "–û—Ç–≤–µ—Ç –ò–ò"

### 3. **–≠—Å–∫–∞–ª–∞—Ü–∏—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É**
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å: "–ü–µ—Ä–µ–¥–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É"
- `response_monitor.py` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã

### 4. **–û—Ç–≤–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞**
- –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Google Sheets
- `response_monitor.py` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –°—Ç–∞—Ç—É—Å: "–í —Ä–∞–±–æ—Ç–µ" –∏–ª–∏ "–†–µ—à–µ–Ω–æ"

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### PythonAnywhere Configuration:
```python
# webhook_handler.py
app = Flask(__name__)

@app.route('/webhook', methods=['POST'])
def webhook():
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook –æ—Ç Google Apps Script
    pass

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- **–õ–æ–≥–∏** –≤ –∫–æ–Ω—Å–æ–ª–∏ PythonAnywhere
- **–ú–µ—Ç—Ä–∏–∫–∏** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Google Sheets
- **–û—à–∏–±–∫–∏** –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: –¥–æ 2000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü–ª–∞–Ω–∏—Ä—É–µ–º–æ–µ**: –¥–æ 5000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- **–ë—É–¥—É—â–µ–µ**: –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∏ —Ä–æ—Å—Ç–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):
```env
# Telegram
TELEGRAM_TOKEN=your_bot_token
ADMIN_TELEGRAM_ID=your_admin_id

# OpenAI
OPENAI_API_KEY=your_openai_key
OPENAI_ASSISTANT_ID=your_assistant_id

# Google Sheets
GCP_SA_JSON={"type":"service_account",...}
SHEET_ID=your_sheet_id
APPEALS_SHEET_ID=your_appeals_sheet_id
PROMOTIONS_SHEET_ID=your_promotions_sheet_id

# WebApp
WEB_APP_URL=https://your-domain.github.io/marketing/
WEBHOOK_URL=https://your-domain.pythonanywhere.com/webhook
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt):
```
requests>=2.32.0
python-dotenv>=1.0.0
gspread>=6.1.0
google-auth>=2.37.0
python-telegram-bot>=20.7
openai>=1.45.0
flask>=3.0.0
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: 5 –º–∏–Ω—É—Ç TTL
- **Google Sheets**: –∫—ç—à –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **WebApp**: –∫—ç—à –Ω–∞ 5 –º–∏–Ω—É—Ç

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:
- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å–æ–æ–±—â–µ–Ω–∏–π
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** —Ä–µ—Å—É—Ä—Å–æ–≤

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ú–µ—Ç—Ä–∏–∫–∏** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ê–ª–µ—Ä—Ç—ã** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

**–í–µ—Ä—Å–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** v3.3  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ