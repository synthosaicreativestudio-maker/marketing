# –ú–∏–≥—Ä–∞—Ü–∏—è —Å Google Sheets –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–∫—Ü–∏–π —Å Google Sheets –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å REST API –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üéØ –¶–µ–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

1. **–£–±—Ä–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Google Sheets API** –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏–π –∏ –∞–∫—Ü–∏–π
2. **–°–æ–∑–¥–∞—Ç—å REST API** –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–æ–≤
3. **–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–Ω–µ—Ç –ª–∏–º–∏—Ç–æ–≤ API Google)
4. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** —Å–∏—Å—Ç–µ–º—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: SQLite (–¥–ª—è –Ω–∞—á–∞–ª–∞, –ø—Ä–æ—â–µ)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Bot   ‚îÇ
‚îÇ   (bot.py)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  REST API       ‚îÇ
‚îÇ  (Flask/FastAPI)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   SQLite DB     ‚îÇ
‚îÇ  (database.db)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Mini App        ‚îÇ
‚îÇ  (Web Interface) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: PostgreSQL (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Bot   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  REST API        ‚îÇ
‚îÇ  (FastAPI)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PostgreSQL     ‚îÇ
‚îÇ  (Cloud DB)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Mini App        ‚îÇ
‚îÇ  (React/Vue)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: `appeals` (–û–±—Ä–∞—â–µ–Ω–∏—è)

```sql
CREATE TABLE appeals (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    telegram_id INTEGER NOT NULL,
    partner_code TEXT,
    phone TEXT,
    fio TEXT,
    status TEXT NOT NULL DEFAULT '–Ω–æ–≤–æ–µ',  -- –Ω–æ–≤–æ–µ, –≤_—Ä–∞–±–æ—Ç–µ, —Ä–µ—à–µ–Ω–æ, –ø–µ—Ä–µ–¥–∞–Ω–æ_—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_telegram_id (telegram_id),
    INDEX idx_status (status)
);
```

### –¢–∞–±–ª–∏—Ü–∞: `appeal_messages` (–°–æ–æ–±—â–µ–Ω–∏—è –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏)

```sql
CREATE TABLE appeal_messages (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    appeal_id INTEGER NOT NULL,
    message_type TEXT NOT NULL,  -- user, ai, specialist
    message_text TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (appeal_id) REFERENCES appeals(id) ON DELETE CASCADE,
    INDEX idx_appeal_id (appeal_id)
);
```

### –¢–∞–±–ª–∏—Ü–∞: `specialist_responses` (–û—Ç–≤–µ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤)

```sql
CREATE TABLE specialist_responses (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    appeal_id INTEGER NOT NULL,
    response_text TEXT NOT NULL,
    specialist_name TEXT,
    sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (appeal_id) REFERENCES appeals(id) ON DELETE CASCADE,
    INDEX idx_appeal_id (appeal_id)
);
```

### –¢–∞–±–ª–∏—Ü–∞: `promotions` (–ê–∫—Ü–∏–∏)

```sql
CREATE TABLE promotions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    description TEXT,
    status TEXT NOT NULL DEFAULT '–æ–∂–∏–¥–∞–µ—Ç',  -- –∞–∫—Ç–∏–≤–Ω–∞, –æ–∂–∏–¥–∞–µ—Ç, –∑–∞–∫–æ–Ω—á–µ–Ω–∞
    start_date DATE,
    end_date DATE,
    release_date DATE,
    content TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_status (status),
    INDEX idx_dates (start_date, end_date)
);
```

### –¢–∞–±–ª–∏—Ü–∞: `promotion_notifications` (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–∫—Ü–∏—è—Ö)

```sql
CREATE TABLE promotion_notifications (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    promotion_id INTEGER NOT NULL,
    telegram_id INTEGER NOT NULL,
    sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (promotion_id) REFERENCES promotions(id) ON DELETE CASCADE,
    UNIQUE(promotion_id, telegram_id),
    INDEX idx_telegram_id (telegram_id)
);
```

## üîå REST API Endpoints

### –û–±—Ä–∞—â–µ–Ω–∏—è (Appeals)

```
GET    /api/appeals                    # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
GET    /api/appeals/{id}               # –î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è
GET    /api/appeals/user/{telegram_id} # –û–±—Ä–∞—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/appeals                    # –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ
PUT    /api/appeals/{id}/status        # –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
POST   /api/appeals/{id}/messages      # –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
GET    /api/appeals/{id}/messages       # –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
POST   /api/appeals/{id}/response      # –û—Ç–≤–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
```

### –ê–∫—Ü–∏–∏ (Promotions)

```
GET    /api/promotions                 # –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫—Ü–∏–π
GET    /api/promotions/{id}            # –î–µ—Ç–∞–ª–∏ –∞–∫—Ü–∏–∏
POST   /api/promotions                  # –°–æ–∑–¥–∞—Ç—å –∞–∫—Ü–∏—é
PUT    /api/promotions/{id}             # –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ü–∏—é
DELETE /api/promotions/{id}             # –£–¥–∞–ª–∏—Ç—å –∞–∫—Ü–∏—é
GET    /api/promotions/active           # –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫—Ü–∏–∏
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
GET    /api/stats/appeals               # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ–±—Ä–∞—â–µ–Ω–∏—è–º
GET    /api/stats/promotions            # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–∫—Ü–∏—è–º
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **FastAPI** –∏–ª–∏ **Flask** - REST API
- **SQLAlchemy** - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **SQLite** (–¥–ª—è –Ω–∞—á–∞–ª–∞) –∏–ª–∏ **PostgreSQL** (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- **Alembic** - –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

### Frontend (Mini App)
- **React** –∏–ª–∏ **Vue.js** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Telegram WebApp SDK** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- **Axios/Fetch** - HTTP –∫–ª–∏–µ–Ω—Ç

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **PythonAnywhere** –∏–ª–∏ **Heroku** - —Ö–æ—Å—Ç–∏–Ω–≥
- **GitHub Actions** - CI/CD (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìù –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 –¥–Ω—è)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î (SQLAlchemy models)
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (Alembic)
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ë–î

### –≠—Ç–∞–ø 2: REST API (3-5 –¥–Ω–µ–π)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å FastAPI/Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoints –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏–π
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoints –¥–ª—è –∞–∫—Ü–∏–π
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (JWT –∏–ª–∏ API –∫–ª—é—á–∏)
5. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã

### –≠—Ç–∞–ø 3: –ú–∏–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ (2-3 –¥–Ω—è)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `AppealsServiceDB` (–∑–∞–º–µ–Ω–∞ `AppealsService`)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `PromotionsServiceDB` (–∑–∞–º–µ–Ω–∞ `PromotionsService`)
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `bot.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `handlers.py`
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `response_monitor.py`

### –≠—Ç–∞–ø 4: –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (3-5 –¥–Ω–µ–π)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å React/Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram WebApp SDK
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–æ–≤
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ü–∏—è–º–∏
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫

### –≠—Ç–∞–ø 5: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (1 –¥–µ–Ω—å)

1. ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets
2. ‚úÖ –ò–º–ø–æ—Ä—Ç –≤ –ë–î
3. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
4. ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π (2-3 –¥–Ω—è)

1. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
3. ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
4. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets

### –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π

```python
# migrate_appeals.py
import sqlite3
import gspread
from datetime import datetime

def migrate_appeals():
    # 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Sheets
    # 2. –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
    # 3. –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
    # 4. –í—Å—Ç–∞–≤–∫–∞ –≤ –ë–î
    pass
```

### –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∞–∫—Ü–∏–π

```python
# migrate_promotions.py
def migrate_promotions():
    # 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Sheets
    # 2. –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ü–∏–π
    # 3. –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
    # 4. –í—Å—Ç–∞–≤–∫–∞ –≤ –ë–î
    pass
```

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–ª—è REST API

1. **JWT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–æ–≤
2. **API –∫–ª—é—á–∏** –¥–ª—è –±–æ—Ç–∞
3. **Rate limiting** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç DDoS
4. **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –î–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. **Telegram WebApp.initData** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏
2. **HTTPS** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç –ª–∏–º–∏—Ç–æ–≤ Google Sheets API
2. ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
3. ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏
4. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
5. ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –õ–µ–≥–∫–æ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç—á–µ—Ç—ã
6. ‚úÖ **–û—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–æ–ª–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π

### –†–∏—Å–∫ 2: –ü—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞

### –†–∏—Å–∫ 3: –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install fastapi uvicorn sqlalchemy alembic
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ë–î

```bash
alembic init alembic
alembic revision --autogenerate -m "Initial migration"
alembic upgrade head
```

### 3. –ó–∞–ø—É—Å–∫ API

```bash
uvicorn api.main:app --host 0.0.0.0 --port 8000
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [SQLAlchemy Documentation](https://docs.sqlalchemy.org/)
- [Telegram WebApp SDK](https://core.telegram.org/bots/webapps)

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –í—ã–±—Ä–∞—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (FastAPI + SQLite –∏–ª–∏ PostgreSQL)
2. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
3. –ù–∞—á–∞—Ç—å —Å –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π
4. –ó–∞—Ç–µ–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ü–∏–∏
5. –°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: 2026-01-05  
**–ê–≤—Ç–æ—Ä**: Migration Plan
