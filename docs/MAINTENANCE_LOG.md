# üõ† –ñ—É—Ä–Ω–∞–ª –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ Lessons Learned

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, –≤–æ–∑–Ω–∏–∫—à–∏—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ —Å–ø–æ—Å–æ–±—ã –∏—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è.

## 1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Backtracking)

### –ò–Ω—Ü–∏–¥–µ–Ω—Ç (–§–µ–≤—Ä–∞–ª—å 2026)
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ `pip install` –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–∏—Å–∞–ª –Ω–∞ —á–∞—Å—ã, –ø–µ—Ä–µ–±–∏—Ä–∞—è —Å–æ—Ç–Ω–∏ –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–æ–≤.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞–∫–µ—Ç `google-auth` –±—ã–ª –∂—ë—Å—Ç–∫–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –Ω–∞ –≤–µ—Ä—Å–∏–∏ `2.38.0`, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ `google-genai` —Ç—Ä–µ–±–æ–≤–∞–ª `>=2.47.0`.
- **–û—à–∏–±–∫–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π –≤ `requirements.txt`.

### –†–µ—à–µ–Ω–∏–µ
- **–ü–æ–ª–Ω—ã–π –ø–∏–Ω–Ω–∏–Ω–≥ (Locking):** –í—Å–µ–≥–¥–∞ —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ **–≤—Å–µ** —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤—Å–µ 90+ –ø–∞–∫–µ—Ç–æ–≤), –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pip freeze > requirements.txt` —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —á–∏—Å—Ç–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

---

## 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

### –ò–Ω—Ü–∏–¥–µ–Ω—Ç
–ü–∞–ø–∫–∞ `.venv` –±—ã–ª–∞ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `.venv/` –≤ `.gitignore`.
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** Git —Å—á–∏—Ç–∞–ª –æ–∫—Ä—É–∂–µ–Ω–∏–µ —á–∞—Å—Ç—å—é –∫–æ–¥–∞. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `git checkout -- .` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —Ä–∞–±–æ—á–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞—Ç–∏—Ä–∞–ª–æ—Å—å "–±–∏—Ç—ã–º" –∏–ª–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–∑ git.

### –†–µ—à–µ–Ω–∏–µ
- **–°—Ç—Ä–æ–≥–∏–π .gitignore:** `.venv/` –∏ `venv/` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∏–≥–Ω–æ—Ä–µ —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## 3. –†–∏—Å–∫–∏ —Ä—É—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### –ò–Ω—Ü–∏–¥–µ–Ω—Ç
–†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ `git pull` + `pip install` + `restart` –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø—Ä–æ—Å—Ç–æ—è–º, –µ—Å–ª–∏ –æ–¥–Ω–∞ –∏–∑ –∫–æ–º–∞–Ω–¥ –∑–∞–≤–µ—Ä—à–∞–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π.
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏.

### –†–µ—à–µ–Ω–∏–µ (Blue-Green)
- **–ò–∑–æ–ª—è—Ü–∏—è:** –ö–∞–∂–¥–∞—è –≤–µ—Ä—Å–∏—è –¥–µ–ø–ª–æ–∏—Ç—Å—è –≤ —Å–≤–æ—é –ø–∞–ø–∫—É (`releases/`).
- **Smoke Tests:** –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –æ–±—è–∑–∞–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏ (`bot.py`, `gemini_service.py`) **–¥–æ** —Ç–æ–≥–æ, –∫–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Å–∏–º–ª–∏–Ω–∫–∏:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `ln -sfn`.

---

## 4. –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (Runtime persistence)

### –†–∏—Å–∫
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ä—ã—Ö –ø–∞–ø–æ–∫ —Å –∫–æ–¥–æ–º –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ª–æ–≥–∏.
- **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (`.env`, `.db`, `logs/`) –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –ø–∞–ø–∫—É `/home/marketing/shared/` –∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É —Ä–µ–ª–∏–∑—É —á–µ—Ä–µ–∑ —Å–∏–º–ª–∏–Ω–∫–∏.

---
*–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏.*
