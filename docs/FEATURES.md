# ‚ö° –§—É–Ω–∫—Ü–∏–∏ MarketingBot v3.2

## üéØ –û–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π

MarketingBot v3.2 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞:
- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ Google Sheets
- üë• **–≠—Å–∫–∞–ª–∞—Ü–∏—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∂–∏–≤—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- üéâ **–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ü–∏–π** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞–∫—Ü–∏–π –∏ —Å–æ–±—ã—Ç–∏–π
- ü§ñ **–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- üìä **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏** - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ —Ä–µ—à–µ–Ω–∏—è

---

## üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

### –û–±–∑–æ—Ä
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∫ –±–æ—Ç—É —á–µ—Ä–µ–∑ Google Sheets. –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.

### –ü–æ—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Mini App ‚Üí –ë–æ—Ç ‚Üí Google Sheets)

#### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:
  - `TELEGRAM_TOKEN`
  - `WEB_APP_URL` (HTTPS, GitHub Pages –ø–æ–¥—Ö–æ–¥–∏—Ç)
  - `SHEET_ID`
  - –û–¥–∏–Ω –∏–∑: `GCP_SA_FILE` (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å) –∏–ª–∏ `GCP_SA_JSON` (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ JSON)
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: `SHEET_NAME` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –ª–∏—Å—Ç)
- –¢–∞–±–ª–∏—Ü–∞ Google Sheets —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏:
  - A: `–ö–æ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä–∞`
  - C: `–¢–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω–µ—Ä–∞`
  - D: `–°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏` (–∏–ª–∏ `–°—Ç–∞—Ç—É—Å`)
  - E: `Telegram ID`
  - F: `–î–∞—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏`

#### –®–∞–≥–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è

**1) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`**
- –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Reply‚Äë–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–ø—É—Å–∫–∞ Mini App
- –í–∞–∂–Ω–æ: –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Reply‚Äë–∫–Ω–æ–ø–∫—É ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ `Telegram.WebApp.sendData()`

**2) Mini App (WebView) –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ `WEB_APP_URL`**
- –§–∞–π–ª—ã: `index.html`, `app.js`
- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `Telegram.WebApp` –∏ `MainButton`
- –ü–æ–ª—è —Ñ–æ—Ä–º—ã:
  - –ö–æ–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)
  - –¢–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–≤–µ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä `89827701055`)
- –ü—Ä–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö `MainButton` –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

**3) –ë–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ Mini App**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `filters.StatusUpdate.WEB_APP_DATA`
- –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç JSON, –ª–æ–≥–∏—Ä—É–µ—Ç —Å—ã—Ä—å–µ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª—è `partner_code`, `partner_phone`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–ü—Ä–æ–≤–µ—Ä—è—é –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ‚Ä¶¬ª

**4) –ü–æ–∏—Å–∫ –≤ Google Sheets –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞**
- –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `AuthService` ‚Üí `sheets.py`
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏:
  - –ö–æ–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ (—Ü–∏—Ñ—Ä—ã –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
  - –¢–µ–ª–µ—Ñ–æ–Ω –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –¥–æ —Ü–∏—Ñ—Ä; —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ —Ü–∏—Ñ—Ä–∞–º
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ä—É—Å—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
- –ü—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–∞–∫–µ—Ç–Ω–æ (–¥–∏–∞–ø–∞–∑–æ–Ω `D:F` –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π):
  - D: `–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω`
  - E: `Telegram ID`
  - F: –¥–∞—Ç–∞/–≤—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏ —É—Å–ø–µ—Ö–µ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç: ¬´–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å.¬ª

**5) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è**
- –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç: ¬´–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.¬ª
- –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏ –±–æ—Ç —Å–Ω–æ–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É –∑–∞–ø—É—Å–∫–∞ Mini App

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º
- –ö–æ–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–∞: —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `111098`)
- –¢–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω—ë—Ä–∞: –¥–æ–ø—É—Å—Ç–∏–º –ª—é–±–æ–π –≤–≤–æ–¥, –Ω–æ –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞
- –ó–∞–ø—É—Å–∫ Mini App —Å—Ç—Ä–æ–≥–æ —á–µ—Ä–µ–∑ Reply‚Äë–∫–Ω–æ–ø–∫—É (–Ω–µ inline) ‚Äî –∏–Ω–∞—á–µ `sendData()` –±—É–¥–µ—Ç –º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ `filters.StatusUpdate.WEB_APP_DATA` –≤ –±–æ—Ç–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ `tg.close()` (~300–º—Å) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –≥–æ–Ω–∫–∏

---

## üë• –°–∏—Å—Ç–µ–º–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º

### –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞. –ö–æ–≥–¥–∞ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ Google Sheets.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

#### 1. –î–µ—Ç–µ–∫—Ü–∏—è —ç—Å–∫–∞–ª–∞—Ü–∏–∏
AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–≤–æ–π –æ—Ç–≤–µ—Ç –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É. –ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è —Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞:
- "–ü–µ—Ä–µ–¥–∞—é –≤–∞—à –∑–∞–ø—Ä–æ—Å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞"
- "–°–≤—è–∂—É –≤–∞—Å —Å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º"
- "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"
- –ò –¥—Ä—É–≥–∏–µ –ø–æ–¥–æ–±–Ω—ã–µ —Ñ—Ä–∞–∑—ã

–¢–æ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç—Ç–æ –∫–∞–∫ —ç—Å–∫–∞–ª–∞—Ü–∏—é.

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞:
1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—â–µ–Ω–∏—è –Ω–∞ "–≤ —Ä–∞–±–æ—Ç–µ" –≤ –∫–æ–ª–æ–Ω–∫–µ F
2. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∑–∞–ª–∏–≤–∫—É —Ü–≤–µ—Ç–∞ #f4cccc (–∫—Ä–∞—Å–Ω–æ–≤–∞—Ç—ã–π –æ—Ç—Ç–µ–Ω–æ–∫)
3. –õ–æ–≥–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#### 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
–¢–∞–±–ª–∏—Ü–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏:
- A: –∫–æ–¥ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- B: —Ç–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω–µ—Ä–∞  
- C: –§–ò–û –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- D: telegram_id
- E: —Ç–µ–∫—Å—Ç_–æ–±—Ä–∞—â–µ–Ω–∏–π
- **F: —Å—Ç–∞—Ç—É—Å** (–Ω–æ–≤–æ–µ, –≤ —Ä–∞–±–æ—Ç–µ, —Ä–µ—à–µ–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ)
- G: —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç_–æ—Ç–≤–µ—Ç
- H: –≤—Ä–µ–º—è_–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `handlers.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_is_escalation_response()` –∏ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –≤ `chat_handler()`
- `appeals_service.py` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `set_status_escalated()`

#### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

**`_is_escalation_response(text: str) -> bool`**
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –æ—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ñ—Ä–∞–∑—ã —ç—Å–∫–∞–ª–∞—Ü–∏–∏.

**`set_status_escalated(telegram_id: int) -> bool`**
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–≤ —Ä–∞–±–æ—Ç–µ" —Å –∑–∞–ª–∏–≤–∫–æ–π #f4cccc –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `APPEALS_SHEET_ID` - ID —Ç–∞–±–ª–∏—Ü—ã —Å –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏
- `APPEALS_SHEET_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–æ–±—Ä–∞—â–µ–Ω–∏—è")

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –≤ Google Sheets:
1. –í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–ª–æ–Ω–∫—É F (—Å—Ç–∞—Ç—É—Å)
2. –î–∞–Ω–Ω—ã–µ ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π: "–Ω–æ–≤–æ–µ", "–≤ —Ä–∞–±–æ—Ç–µ", "—Ä–µ—à–µ–Ω–æ", "–∑–∞–∫—Ä—ã—Ç–æ"
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
   - –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å = "–≤ —Ä–∞–±–æ—Ç–µ" ‚Üí —Ü–≤–µ—Ç #f4cccc
   - –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å = "–≤ —Ä–∞–±–æ—Ç–µ" ‚Üí –¥—Ä—É–≥–æ–π —Ü–≤–µ—Ç
   - –ò —Ç.–¥.

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `bot.log` —Å —É—Ä–æ–≤–Ω–µ–º INFO:
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —ç—Å–∫–∞–ª–∞—Ü–∏–∏
- –£—Å–ø–µ—à–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞

---

## üéâ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ü–∏—è–º–∏

### –û–±–∑–æ—Ä
–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ü–∏—è–º–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ê–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Google Sheets –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Telegram –±–æ—Ç–µ.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –∞–∫—Ü–∏–π

#### Google Sheets: "–ê–∫—Ü–∏–∏"
**URL:** `https://docs.google.com/spreadsheets/d/1V3-cPRq_SmbCbIzn1-CWSqD8pdpDqraq_GJ7LjMmwf8/edit?usp=sharing`

#### –ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ã:
| –ö–æ–ª–æ–Ω–∫–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|----------|---------|
| A | –î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞ | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∞–∫—Ü–∏–∏ | 05.10.2025 |
| B | –ù–∞–∑–≤–∞–Ω–∏–µ | –ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ü–∏–∏ | "–°–∫–∏–¥–∫–∞ 20% –Ω–∞ –≤—Å–µ —É—Å–ª—É–≥–∏" |
| C | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ | "–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤" |
| D | **–°—Ç–∞—Ç—É—Å** | **–°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏** | "–ê–∫—Ç–∏–≤–Ω–∞", "–û–∂–∏–¥–∞–µ—Ç", "–ó–∞–∫–æ–Ω—á–µ–Ω–∞" |
| E | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –∞–∫—Ü–∏–∏ | 05.10.2025 |
| F | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–∫—Ü–∏–∏ | 31.10.2025 |
| G | –ö–æ–Ω—Ç–µ–Ω—Ç | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç | 123 |
| H | –î–µ–π—Å—Ç–≤–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ (–ø—É—Å—Ç–æ–µ) | - |
| I | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–ø—É—Å—Ç–æ–µ) | - |

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 1. –°—Ç–∞—Ç—É—Å—ã –∞–∫—Ü–∏–π (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –≤ —Ç–∞–±–ª–∏—Ü–µ)
- **"–ê–∫—Ç–∏–≤–Ω–∞"** - –∞–∫—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **"–û–∂–∏–¥–∞–µ—Ç"** - –∞–∫—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞, –Ω–æ –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞  
- **"–ó–∞–∫–æ–Ω—á–µ–Ω–∞"** - –∞–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

#### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –¥–∞—Ç–∞–º
–ë–æ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞—Ç—ã –¥–ª—è —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏:

- **–ê–∫—Ç–∏–≤–Ω–∞** (–∑–µ–ª–µ–Ω—ã–π) - —Å—Ç–∞—Ç—É—Å "–ê–∫—Ç–∏–≤–Ω–∞" + —Å–µ–≥–æ–¥–Ω—è –º–µ–∂–¥—É –¥–∞—Ç–æ–π –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- **–û–∂–∏–¥–∞–µ—Ç** (–∂–µ–ª—Ç—ã–π) - —Å—Ç–∞—Ç—É—Å "–û–∂–∏–¥–∞–µ—Ç" –∏–ª–∏ —Å—Ç–∞—Ç—É—Å "–ê–∫—Ç–∏–≤–Ω–∞" –Ω–æ —Å–µ–≥–æ–¥–Ω—è —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞
- **–ó–∞–≤–µ—Ä—à–µ–Ω–∞** (—Å–µ—Ä—ã–π) - —Å—Ç–∞—Ç—É—Å "–ó–∞–∫–æ–Ω—á–µ–Ω–∞" –∏–ª–∏ —Å—Ç–∞—Ç—É—Å "–ê–∫—Ç–∏–≤–Ω–∞" –Ω–æ —Å–µ–≥–æ–¥–Ω—è –ø–æ–∑–∂–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è

#### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ü–∏–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º **"–ê–∫—Ç–∏–≤–Ω–∞"**
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –∞–∫—Ç–∏–≤–Ω—ã–µ ‚Üí –æ–∂–∏–¥–∞—é—â–∏–µ ‚Üí –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
- –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –¥–∞—Ç–∞–º–∏

### –î–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–∫—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üî• –°–∫–∏–¥–∫–∞ 20% –Ω–∞ –≤—Å–µ —É—Å–ª—É–≥–∏     ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è     ‚îÇ
‚îÇ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤. –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ    ‚îÇ
‚îÇ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞.                   ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ üìÖ 05.10.2025 - 31.10.2025     ‚îÇ
‚îÇ [–ê–∫—Ç–∏–≤–Ω–∞]                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã:
1. **`promotions_api.py`** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets
2. **`handlers.py`** - –∫–æ–º–∞–Ω–¥–∞ `/promotions` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **`menu.html`** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–ê–∫—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è" –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
2. JavaScript –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Telegram WebApp
3. –î–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –æ—Ç –±–æ—Ç–∞ (–∫–æ–º–∞–Ω–¥–∞ `/promotions`)
4. –ê–∫—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—Ä–∞—Å–∏–≤—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∞–∫—Ü–∏–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –∞–∫—Ü–∏–π
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏:
   - **–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
   - **–û–ø–∏—Å–∞–Ω–∏–µ:** –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
   - **–°—Ç–∞—Ç—É—Å:** "–û–∂–∏–¥–∞–µ—Ç"
   - **–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì
   - **–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:** –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì

#### –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∞–∫—Ü–∏–∏:
1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å —Å "–û–∂–∏–¥–∞–µ—Ç" –Ω–∞ "–ê–∫—Ç–∏–≤–Ω–∞"
2. –ê–∫—Ü–∏—è —Å—Ä–∞–∑—É –ø–æ—è–≤–∏—Ç—Å—è –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–∫—Ü–∏–∏:
1. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ "–ó–∞–∫–æ–Ω—á–µ–Ω–∞" –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ "–ê–∫—Ç–∏–≤–Ω–∞"
2. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç, —á—Ç–æ –∞–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ –¥–∞—Ç–µ

### –ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ—Ç –±–æ—Ç:
- ‚ùå –ù–µ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚ùå –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö
- ‚ùå –ù–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞—Ç–∞–º–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ü–∏–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–∞—Ç–∞–º
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–∫—Ü–∏–π
- ‚úÖ –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
PROMOTIONS_SHEET_ID=1V3-cPRq_SmbCbIzn1-CWSqD8pdpDqraq_GJ7LjMmwf8
GCP_SA_FILE=path/to/service-account.json
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ö–æ–º–∞–Ω–¥–∞ `/promotions` - –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∞–∫—Ü–∏–π –≤ JSON
- –û—Ç–∫—Ä—ã—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Üí "–ê–∫—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è" - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
2. **–ù–∞–∂–∏–º–∞–µ—Ç** "–ê–∫—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è"  
3. **–í–∏–¥–∏—Ç** —Å–ø–∏—Å–æ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞–∫—Ü–∏–π
4. **–ß–∏—Ç–∞–µ—Ç** –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –¥–∞—Ç—ã
5. **–ü–æ–Ω–∏–º–∞–µ—Ç** —Å—Ç–∞—Ç—É—Å –∞–∫—Ü–∏–∏ (–∞–∫—Ç–∏–≤–Ω–∞/–æ–∂–∏–¥–∞–µ—Ç/–∑–∞–≤–µ—Ä—à–µ–Ω–∞)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

#### –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
- **AuthService** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º –∞–∫—Ü–∏–π
- **Google Sheets API** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ü–∏–π
- **Telegram WebApp** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- **menu.html** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –ê–∫—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ API
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã –∞–∫—Ü–∏–π:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–∫—Ü–∏–π
grep -i "promotions" bot.log | tail -10

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ API
grep -i "promotions.*error" bot.log | tail -5
```

#### –ú–µ—Ç—Ä–∏–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞–∫—Ü–∏–π
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Sheets

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

### –°–≤—è–∑—å –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏
1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Üí **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞)
2. **–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** ‚Üí **–≠—Å–∫–∞–ª–∞—Ü–∏—è** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
3. **–û–±—Ä–∞—â–µ–Ω–∏—è** ‚Üí **–≠—Å–∫–∞–ª–∞—Ü–∏—è** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏)
4. **–ê–∫—Ü–∏–∏** ‚Üí **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ WebApp)

### –û–±—â–∏–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Mini App
2. –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É –∏ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É
3. –ú–æ–∂–µ—Ç –æ–±—â–∞—Ç—å—Å—è —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É
5. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–û–±—â–∏–µ Google Sheets** –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- **–ï–¥–∏–Ω—ã–π WebApp** –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** v3.2  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 9 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ
